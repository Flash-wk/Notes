\section{F: Data Types}

%------------------------------------------------

\begin{frame}[fragile]
\frametitle{Fundamental Data types}

\begin{columns}

\begin{column}{0.45\textwidth}
{\small
{\bf [}unsigned $|$ signed{\bf ]\ \ [}long $|$ short{\bf ]\ \ [}int $|$ float $|$ double{\bf ]}
\begin{itemize}
\item The use of {\tt int} implies {\tt signed int} without the need
to state it.  Likewise {\tt unsigned short} means {\tt unsigned short int}.
\end{itemize}
}

{\tiny
\begin{tabular}{|l|l|l|} \hline
Type & Minimum size (bits) & Format specifier \\ \hline
%
char & 8 & \%c \\ \hline
%
signed char & 8 & \%c (or \%hhi for numerical output) \\ \hline
%
unsigned char & 8 & \%c (or \%hhu for numerical output) \\ \hline
%
short & 16 & \%hi or \%hd \\
short int &  &  \\
signed short &  &  \\
signed short int &  &  \\ \hline
%
unsigned short & 16 & \%hu \\
unsigned short int &  &  \\ \hline
int & 16 & \%i or \%d \\
signed &  &  \\
signed int &  &  \\ \hline
%
unsigned & 16 & \%u \\
unsigned int &  &  \\ \hline
%
long & 32 & \%li or \%ld \\
long int &  &  \\
signed long &  &  \\
signed long int &  &  \\ \hline
%
unsigned long & 32 & \%lu \\
unsigned long int &  &  \\ \hline
\end{tabular}
}
\end{column}

\begin{column}{0.45\textwidth}
{\tiny
\begin{tabular}{|l|l|l|} \hline
Type & Minimum size (bits) & Format specifier \\ \hline
%
long long & 64 & \%lli or \%lld \\
long long int &  &  \\
signed long long &  &  \\
signed long long int &  &  \\ \hline
%
unsigned long long & 64 & \%llu \\
unsigned long long int &  &  \\ \hline
%
float &  & scanf(): \\
 &  & \%f \%F \\
 &  & \%g \%G \\
 &  & \%e \%E \\
 &  & \%a \%A \\ \hline
%
double &  & \%lf \%lF \\
 &  & \%lg \%lG \\
 &  & \%le \%lE \\
 &  & \%la \%lA[c] \\ \hline
%
long double & & \%Lf \%LF \\
 &  & \%Lg \%LG \\
 &  & \%Le \%LE \\
 &  & \%La \%LA \\ \hline
\end{tabular}
}
{\tiny \url{https://en.wikipedia.org/wiki/C_data_types}}
\end{column}

\end{columns}
\end{frame}

%------------------------------------------------

\begin{frame}[fragile]
\frametitle{Binary Storage of Numbers}

\begin{columns}

\begin{column}{0.45\textwidth}
In an unsigned char :
\begin{center}
\begin{tabular}{|c|c|c|c|c|c|c|c|}\hline
$2^7$ & $2^6$ & $2^5$ & $2^4$ & $2^3$ & $2^2$ & $2^1$ & $2^0$ \\ \hline
0     & 1     & 0     & 0     & 1     & 1     & 0     & 0     \\ \hline
\end{tabular}
\end{center}

The above represents : $1 * 64 + 1 * 8 + 1 * 4 = 76$.

\begin{itemize}[<+->]
\item Floating operations need not be exact.
\end{itemize}
\lstinputlisting[style=basicc]{../Code/ChapF/prec1.c}
{\scriptsize Output:}
\lstinputlisting[style=basicterm]{../Code/ChapF/prec1.autoout}
\end{column}

\begin{column}{0.45\textwidth}
\begin{itemize}[<+->]
\item Not all floats are representable so are only approximated.
\item Since floats may not be stored exactly, it doesn't make sense to try and compare them:
\begin{lstlisting}[style=basicc,numbers=none]
if ( d == 0.3 )
\end{lstlisting}
\item Therefore, we don't allow this by explicitly using the compiler warning flag: {\tt -Wfloat-equal}
\end{itemize}
\end{column}

\end{columns}
\end{frame}

%------------------------------------------------

\begin{frame}[fragile]
\frametitle{\tt sizeof()}

\begin{columns}

\begin{column}{0.45\textwidth}
To find the exact size in bytes of a type on a particular machine,
use {\tt sizeof()}. On a Dell Windows 10 laptop running WSL:
\lstinputlisting[style=basicc]{../Code/ChapF/sizeof.c}
\end{column}

\begin{column}{0.40\textwidth}
{\scriptsize{\tt Output :}}
\lstinputlisting[style=basicterm]{../Code/ChapF/sizeof.autoout}
\end{column}

\end{columns}
\end{frame} 

%------------------------------------------------

\begin{frame}[fragile]
\frametitle{Mathematical Functions}

\begin{itemize}
\item There are no mathematical functions built into the C language.
\item However, there are many functions in the maths library
which may linked in using the {\bf -lm} option with the compiler.
\item Functions include :
\begin{verbatim}
sqrt()  pow() round() 
fabs() exp()  log()
sin()  cos()  tan()
\end{verbatim}
\item Most take {\tt double}s as arguments and return {\tt double}s.
\end{itemize}

\end{frame}

%------------------------------------------------

\begin{frame}[fragile]
\frametitle{Casting}
\begin{columns}

\begin{column}{0.45\textwidth}
\lstinputlisting[style=basicc]{../Code/ChapF/math1.c}
{\scriptsize{\tt Output :}}
\lstinputlisting[style=basicterm]{../Code/ChapF/math1.manout}
\end{column}

\begin{column}{0.45\textwidth}
\begin{itemize}
\item An explicit type conversion is called a {\it cast}.
\item {\it If it moves - cast it}. Don't trust the compiler to do it for you~!
\end{itemize}
\end{column}


\end{columns}
\end{frame}
